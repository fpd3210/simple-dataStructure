# 设计模式七大原则

设计模式原则，其实就是程序员在编程时，应当遵守的原则，也是各种设计模式的基础（即设计模式为什么这样设计的依据）

> 设计模式的目的：为了让程序具有更好的:
>
> - 重用性（相同功能的代码不用多次编写）
> - 可读性（代码规范，便于其他程序员阅读和理解）
> - 可扩展性（当需要增加新的功能时，非常的方便，称为扩展）
> - 可靠性（当增加新的功能后，对原来的功能没有影响）
> - 使程序呈现高内聚（单一功能高度独立）、低耦合（功能与功能之间关联性小）

## 1.单一职责原则

对类来说的，即一个类应该只负责一项职责。如类 A 负责两个不同职责:职责 1，职责 2。当职责 1 需求变更 而改变 A 时，可能造成职责 2 执行错误，所以需要将类 A 的粒度分解为 A1，A2

**注意事项与细节：**

1）降低类的复杂度，一个类只负责一项职责
2）提高类的可读性、可维护性
3）降低变更引起的风险
4）通常情况下，我们应当遵循单一职责原则，除非逻辑足够简单

## 2.接口隔离原则

每个接口中不存在子类用不到却必须实现的方法，如果不然，就要将接口拆分。使用多个隔离的接口，比使用单个接口（多个接口方法集合到一个的接口）要好。

## 3.依赖倒转原则

1）高层模块不应该依赖低层模块，二者都应该依赖其抽象
2）抽象不应该依赖细节，细节应该依赖抽象
3）依赖倒置原则的中心思想是面向接口编程
4）依赖倒置原则是基于这样的设计理念：相对于细节的多变性，抽象的东西要稳定的多。以抽象为基础搭建的架构比以细节为基础的架构稳定得多。在java中，抽象指的是接口或抽象类，细节就是具体的实现类。
5）使用接口或抽象类的目的是制定好规范，将具体的细节交给他们的实现类或子类去完成

**注意事项与细节：**

1）低层模块尽量都有抽象类或接口，这样程序稳定性更好
2）变量的声明类型尽量都是抽象类或接口，这样我们的变量引用和实际对象间就有一个缓冲层，更利于程序的优化和扩展
3）继承时遵循里氏替换原则



> 面向接口编程，依赖于抽象而不依赖于具体。写代码时用到具体类时，不与具体类交互，而与具体类的上层接口交互。

## 4.里氏替换原则

任何基类可以出现的地方，子类一定可以出现。里氏替换原则是继承复用的基石，只有当衍生类可以替换基类，软件单位的功能不受到影响时，基类才能真正被复用，而衍生类也能够在基类的基础上增加新的行为。

里氏代换原则是对“开-闭”原则的补充。实现“开闭”原则的关键步骤就是抽象化。而基类与子类的继承关系就是抽象化的具体实现，所以里氏代换原则是对实现抽象化的具体步骤的规范。里氏替换原则中，子类对父类的方法尽量不要重写和重载。因为父类代表了定义好的结构，通过这个规范的接口与外界交互，子类不应该随便破坏它。

## 5.开闭原则

开闭原则是编程中**最基础、最重要**的设计原则。`对扩展开放，对修改关闭(用抽象构建框架，用实
现扩展细节)。`

即在程序需要进行拓展的时候，不能去修改原有的代码，而是要扩展原有代码，实现一个热插拔的效果。所以一句话概括就是：为了使程序的扩展性好，易于维护和升级。

> 编程中遵循其它原则，以及使用设计模式的目的就是遵循开闭原则。

## 6.迪米特原则

一个类对自己依赖的类知道的越少越好。无论被依赖的类多么复杂，都应该将逻辑封装在方法的内部，通过public方法提供给外部。这样当被依赖的类变化时，才能最小的影响该类。

最少知道原则的另一个表达方式是：只与直接的朋友通信。类之间只要有耦合关系，就叫朋友关系。耦合分为依赖、关联、聚合、组合等。我们称出现为成员变量、方法参数、方法返回值中的类为直接朋友。局部变量、临时变量则不是直接的朋友。我们要求陌生的类不要作为局部变量出现在类中。

## 7.合成复用原则

尽量首先使用合成/聚合的方式，而不是使用继承。

**核心思想**

-  找出应用中可能需要变化之处，把它们独立出来，不要和那些不需要变化的代码混在一起。 

-  针对接口编程，而不是针对实现编程。

-  为了交互对象之间的松耦合设计而努力